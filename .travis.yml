language: node_js

node_js:
   - "lts/*"
addons:
   chrome: stable
   apt:
      packages:
      - libgconf-2-4

cache:
   npm: true
   directories:
      - ~/.npm
      - ./node_modules
      - ~/.cache
   override:
      - npm run cy:verify

install:
   - npm install cypress --save-dev
   - npm install --save mailslurp-client

script:
   - $(npm bin)/cypress run --browser chrome --headless
   - node report.js
